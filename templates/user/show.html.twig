{% extends 'base.html.twig' %}

{% block title %}User{% endblock %}

{% block body %}
    <h1>{{user.username}}</h1>
    <img src="{{ asset('img/' ~ user.picture) }}" alt="{{user.username}}">

    <h3>Followers</h3>
    {% for follower in user.followers %}
        <img src="{{ asset('img/' ~ follower.picture) }}" alt="{{follower.username}}">
        <h4>{{follower.username}}</h4>
    {% endfor %}
    <h3>Following</h3>
    {% for following in user.following %}
        <img src="{{ asset('img/' ~ following.picture) }}" alt="{{following.username}}">
        <h4>{{following.username}}</h4>
    {% endfor %}
    
    <h2>Publicaciones</h2>
    {% for post in user.posts %}
        <a href="{{ path('app_post_show', {'id': post.id}) }}">
            <img src="{{ asset('img/' ~ post.image) }}" alt="{{post.title}}">
            <p>{{post.title}}</p>
        </a>
    {% else %}
        <p>No hay publicaciones.</p>
    {% endfor %}
            
    <a href="{{ path('app_user_index') }}">Volver</a>

    {% if app.user.id == user.id or "ROLE_ADMIN" in app.user.roles %}
    <a href="{{ path('app_user_edit', {'id': user.id}) }}">Editar Perfil</a>
    {{ include('user/_delete_form.html.twig') }}
    {% endif %}

    
{% endblock %}
